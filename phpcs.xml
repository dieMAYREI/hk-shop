<?xml version="1.0"?>
<ruleset name="HK Shop">
  <description>Project-wide PHPCS rules for Magento 2</description>

  <!-- Base coding standard -->
  <rule ref="Magento2"/>

  <!-- Only scan PHP/PHTML to avoid CSS/JS/GraphQL deprecations -->
  <arg name="extensions" value="php,phtml"/>
  <arg name="parallel" value="4"/>

  <!-- Exclude common non-source paths -->
  <exclude-pattern>vendor/*</exclude-pattern>
  <exclude-pattern>node_modules/*</exclude-pattern>
  <exclude-pattern>generated/*</exclude-pattern>
  <exclude-pattern>var/*</exclude-pattern>
  <exclude-pattern>pub/static/*</exclude-pattern>
  <exclude-pattern>pub/media/*</exclude-pattern>
  <!-- Keep Magento core files untouched -->
  <exclude-pattern>app/bootstrap.php</exclude-pattern>
  <exclude-pattern>app/autoload.php</exclude-pattern>
  <exclude-pattern>app/etc/NonComposerComponentRegistration.php</exclude-pattern>
  <exclude-pattern>app/etc/di.xml</exclude-pattern>

  <!-- Default scan target(s) -->
  <file>app</file>

  <!-- Allow helper call in Page Builder category description template -->
  <rule ref="Magento2.Templates.ThisInTemplate.FoundHelper">
    <exclude-pattern>app/design/frontend/DieMayrei/hyva_child/Magento_PageBuilder/templates/catalog/category/view/description.phtml</exclude-pattern>
  </rule>
</ruleset>
